(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var r=c(8),n=c.n(r),s=c(3),a=c(17),o=c(2),i=c(11),l=c(15),d="LOAD_TODOS",u="LOAD_USER",j="SET_SELECTED_USER_ID",b="SET_SEARCH_TITLE",p="SET_FILTER_PARAMETER",O="TOGGLE_TODO_STATUS",h="SET_USER_ERROR",_={selectedUserId:0,todos:[],filterParameter:"All",searchTitle:"",userError:"",user:{id:0,createdAt:"",updatedAt:"",name:"",username:"",email:"",phone:"",website:""}},f=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(o.a)(Object(o.a)({},e),{},{todos:t.payload});case u:return Object(o.a)(Object(o.a)({},e),{},{user:t.payload});case j:return Object(o.a)(Object(o.a)({},e),{},{selectedUserId:t.payload});case b:return Object(o.a)(Object(o.a)({},e),{},{searchTitle:t.payload});case p:return Object(o.a)(Object(o.a)({},e),{},{filterParameter:t.payload});case O:return Object(o.a)(Object(o.a)({},e),{},{todos:t.payload});case h:return Object(o.a)(Object(o.a)({},e),{},{userError:t.payload});default:return e}}),Object(l.composeWithDevTools)()),m=f,x=(c(26),c(27),c(9)),E=c(6),T=c.n(E),v=c(0),y=(c(29),c(1)),S=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),c=Object(s.c)((function(e){return e.selectedUserId}));Object(v.useEffect)((function(){Object(x.a)(T.a.mark((function t(){var r,n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,t.prev=1,t.next=4,s=c,console.log("fetch user"),fetch("https://mate.academy/students-api/users/"+s).then((function(e){return e.json()}));case 4:r=t.sent,t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),"An error has ocurred while getting data from server, please contact our support team",n=!0,e({type:"SET_USER_ERROR",payload:"An error has ocurred while getting data from server, please contact our support team"});case 12:n||e({type:"LOAD_USER",payload:r});case 13:case"end":return t.stop()}var s}),t,null,[[1,7]])})))()}),[c]);var r=function(){e({type:"SET_SELECTED_USER_ID",payload:0})};return Object(y.jsx)(y.Fragment,{children:function(){var e=t.id,n=t.name,s=t.email,a=t.phone;return e!==c?Object(y.jsx)("div",{className:"CurrentUser",children:Object(y.jsx)("h2",{className:"CurrentUser__title",children:Object(y.jsx)("span",{children:"The data is loading"})})}):Object(y.jsxs)("div",{className:"CurrentUser",children:[Object(y.jsx)("h2",{className:"CurrentUser__title",children:Object(y.jsxs)("span",{children:["Selected user:"," ",e]})}),Object(y.jsx)("h3",{className:"CurrentUser__name",children:n}),Object(y.jsx)("p",{className:"CurrentUser__email",children:s}),Object(y.jsx)("p",{className:"CurrentUser__phone",children:a}),Object(y.jsx)("button",{className:"CurrentUser__clear button",type:"button",onClick:r,children:"Clear"})]})}()})},R=c(18),A=c(13),U=c.n(A),C=(c(31),function(){var e=Object(s.b)();Object(v.useEffect)((function(){Object(x.a)(T.a.mark((function t(){var c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,console.log("fetch todos"),fetch("https://mate.academy/students-api/todos").then((function(e){return e.json()}));case 2:c=t.sent,e({type:"LOAD_TODOS",payload:c});case 4:case"end":return t.stop()}}),t)})))()}),[]);var t=Object(s.c)((function(e){return e.todos})),c=Object(s.c)((function(e){return e.searchTitle})),r=Object(s.c)((function(e){return e.filterParameter})),n=Object(s.c)((function(e){return e.selectedUserId})),a=t.filter((function(e){switch(r){case"Active":return e.title.includes(c)&&!e.completed;case"Completed":return e.title.includes(c)&&e.completed;default:return e.title.includes(c)}})),o=function(t){var c=t.currentTarget.dataset.id;e({type:"SET_USER_ERROR",payload:""}),e({type:"SET_SELECTED_USER_ID",payload:Number(c)})},i=Object(v.useMemo)((function(){return o}),[n]),l=function(c){var r=Object(R.a)(t),n=r.findIndex((function(e){return"user-button-".concat(e.id)===c.target.id}));r[n].completed=!r[n].completed,e({type:"TOGGLE_TODO_STATUS",payload:r})};return Object(y.jsxs)("div",{className:"TodoList",children:[Object(y.jsx)("h2",{children:"Todos:"}),Object(y.jsx)("div",{className:"TodoList__list-container",children:a.map((function(e){return Object(y.jsxs)("li",{className:U()("TodoList__item",{"TodoList__item--unchecked":!e.completed,"TodoList__item--checked":e.completed}),children:[Object(y.jsxs)("label",{htmlFor:"user-button-".concat(e.id),children:[Object(y.jsx)("input",{type:"checkbox",checked:e.completed,onChange:l,id:"user-button-".concat(e.id)}),Object(y.jsx)("p",{children:e.title})]}),Object(y.jsxs)("button",{onClick:i,className:U()("TodoList__user-button","button",{"TodoList__user-button--selected":n===e.userId}),type:"button","data-id":e.userId,children:["User\xa0#",e.userId]})]},e.id)}))})]})}),I=c(16),L=c.n(I),g=function(){var e=Object(s.b)(),t=L.a.debounce((function(t){e({type:"SET_SEARCH_TITLE",payload:t.target.value})}),1e3);return Object(y.jsxs)("div",{children:[Object(y.jsxs)("label",{htmlFor:"searchInput",children:["Filter todos by title:",Object(y.jsx)("input",{type:"text",id:"searchInput",placeholder:"Input title",onChange:t})]}),Object(y.jsxs)("select",{id:"selectTodos",placeholder:"Input title",onChange:function(t){e({type:"SET_FILTER_PARAMETER",payload:t.target.value})},children:[Object(y.jsx)("option",{value:"All",children:"Show all"}),Object(y.jsx)("option",{value:"Active",children:"Show active"}),Object(y.jsx)("option",{value:"Completed",children:"Show completed"})]})]})},N=function(){var e=Object(s.c)((function(e){return e.selectedUserId})),t=Object(s.c)((function(e){return e.userError}));return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsxs)("div",{className:"App__sidebar",children:[Object(y.jsx)("h1",{children:"Redux list of todos"}),Object(y.jsx)(g,{}),Object(y.jsx)(C,{})]}),Object(y.jsx)("div",{className:"App__content",children:""!==t?Object(y.jsx)("div",{className:"App__content-container",children:t}):Object(y.jsx)("div",{className:"App__content-container",children:e?Object(y.jsx)(S,{}):"Please select a user"})})]})},D=function(){return Object(y.jsx)(s.a,{store:m,children:Object(y.jsx)(a.a,{children:Object(y.jsx)(N,{})})})};n.a.render(Object(y.jsx)(D,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.6e7ab1dd.chunk.js.map